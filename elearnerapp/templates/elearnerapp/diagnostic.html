<!DOCTYPE html>
<html lang="en">
{% load staticfiles %}

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Home</title>
  <meta content="" name="descriptison">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="{% static 'img/favicon.png' %}" rel="icon">
  <link href="{% static 'img/apple-touch-icon.png' %}" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,600,600i,700,700i,900" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/icofont/icofont.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/animate.css/animate.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/venobox/venobox.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/aos/aos.css' %}" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="{% static 'css/style.css' %}" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Mamba - v2.0.1
  * Template URL: https://bootstrapmade.com/mamba-one-page-bootstrap-template-free/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
  <style type="text/css">
    form.formclass ul {list-style:none}
  </style>
</head>

  <!-- ======= Header ======= -->
  <header id="header">
    <div class="container">

      <div class="logo float-left">
        <h1 class="text-light"><a href="index.html"><span>Chiron</span></a></h1>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="index.html"><img src="{% static 'img/logo.png" alt="" class="img-fluid"></a>-->
      </div>

      <nav class="nav-menu float-right d-none d-lg-block">
        <ul>
          <li class="active"><a href="#">Hi {{ username }} !<i class="la la-angle-down"></i></a></li>
          <li><a href="http://127.0.0.1:8000/elearner/login">Logout</a></li>
        </ul>
      </nav><!-- .nav-menu -->

    </div>
  </header><!-- End Header -->

  <!-- ======= Services Section ======= -->
  <section id="about" class="about">
    <div class="container">
      <div class="col-lg-12 d-flex flex-column justify-content-center about-content">
      <div class="section-title">
        <h3>Evaluation - {{ full_sub }} : {{ unit }} </h3>
        <p class="text-right text-primary" description">Duration : {{ q_count }} mins</p>
        <p class="text-right text-danger description" id="time"></p>
        <input type='hidden' value='{{ q_count }}' id='q_count' />

      </div>
      <div class="row">
        <form method="post" id="diag" class="formclass"> <!--Removed action-->
          {% csrf_token %}
          {{ form }}
          <div class="text-center">
          <button type="submit" value="answer" class="btn btn-danger btn-lg">Finish Test</button>
          </div> 
        </form>
      </div>
      </div>

    </div>
  </section><!-- End Services Section -->
	<!-- password-script -->
	<script type="text/javascript">
		window.onload = function () {
			document.getElementById("password1").onchange = validatePassword;
			document.getElementById("password2").onchange = validatePassword;
		}

		function validatePassword() {
			var pass2 = document.getElementById("password2").value;
			var pass1 = document.getElementById("password1").value;
			if (pass1 != pass2)
				document.getElementById("password2").setCustomValidity("Passwords Don't Match");
			else
				document.getElementById("password2").setCustomValidity('');
			//empty string means no validation error
		}
	</script>

  <!-- Display the countdown timer in an element -->

  <script>
function startTimer(duration, display) {
    var timer = duration, minutes, seconds;
    setInterval(function () {
        minutes = parseInt(timer / 60, 10);
        seconds = parseInt(timer % 60, 10);

        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        display.textContent = "Time Remaining : " +minutes + ":" + seconds +" mins";

        if (--timer < 0) {
            $('#time').html('Time is up!');
            document.getElementById("diag").submit();
        }
    }, 1000);
}

window.onload = function () {
    var N_Minutes = 60 * document.getElementById('q_count').value,
        display = document.querySelector('#time');
    startTimer(N_Minutes, display);
};  </script>

	<!-- Vendor JS Files -->
	<script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
	<script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
	<script src="{% static 'vendor/jquery.easing/jquery.easing.min.js' %}"></script>
	<script src="{% static 'vendor/php-email-form/validate.js' %}"></script>
	<script src="{% static 'vendor/jquery-sticky/jquery.sticky.js' %}"></script>
	<script src="{% static 'vendor/venobox/venobox.min.js' %}"></script>
	<script src="{% static 'vendor/waypoints/jquery.waypoints.min.js' %}"></script>
	<script src="{% static 'vendor/counterup/counterup.min.js' %}"></script>
	<script src="{% static 'vendor/isotope-layout/isotope.pkgd.min.js' %}"></script>
	<script src="{% static 'vendor/aos/aos.js' %}"></script>

	<!-- Template Main JS File -->
	<script src="{% static 'js/main.js' %}"></script>
</body>

</html>