<!DOCTYPE html>
<html lang="en">
{% load staticfiles %}

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Home</title>
  <meta content="" name="descriptison">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="{% static 'img/logo.jpg' %}" rel="icon">
  <link href="{% static 'img/logo.jpg' %}" rel="apple-touch-icon">


  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,600,600i,700,700i,900" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/icofont/icofont.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/animate.css/animate.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/venobox/venobox.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/aos/aos.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <!-- Template Main CSS File -->
  <link href="{% static 'css/style.css' %}" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Mamba - v2.0.1
  * Template URL: https://bootstrapmade.com/mamba-one-page-bootstrap-template-free/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
  <style>  
      #boxes{
      content: "";
      display: table;
      clear: both;
      }
      #leftboxvid { 
                float:left;  
                /*background:#ffe6ff; */
                width:50%; 
                height:280px; 
            } 
            #rightboxvid{ 
                float:right; 
                /*background:#cce6ff; */
                width:50%; 
                height:280px; 
            } 
      #leftbox { 
                float:left;  
                /*background:#ffe6ff; */
                width:75%; 
                height:60px; 
            } 
            #rightbox{ 
                float:right; 
                /*background:#cce6ff; */
                width:25%; 
                height:60px; 
            } 
      #column1{ 
      background-color: #a1edcc; 
      } 
      #column2{ 
      background-color:#a0e9ed; 
      width:43%; 
      } 
      #column3{ 
      background-color:#f497f1; 
      } 
      h2{ 
      color: #000000; 
      text-align:center; 
      } 
      #icon-added-book a::before{
      padding-right: 10px;
      font-family: "FontAwesome";
      content: "\f02d";
    }
      #icon-added-article a::before{
      padding-right: 10px;
      font-family: "FontAwesome";
      content: "\f044";
    }
    </style>
</head>

  <!-- ======= Header ======= -->
  <header id="header">
    <div class="container">

      <div class="logo float-left">
        <h1 class="text-light"><a href="index.html"><span>Chiron</span></a></h1>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="index.html"><img src="{% static 'img/logo.png" alt="" class="img-fluid"></a>-->
      </div>

      <nav class="nav-menu float-right d-none d-lg-block">
        <ul>
          <li class="active"><a href="#">Hi {{ username }} !<i class="la la-angle-down"></i></a></li>
          <li><a href="http://127.0.0.1:8000/elearner/{{ username }}/dashboard">Home</a></li>
          <li><a href="http://127.0.0.1:8000/elearner/login">Logout</a></li>
        </ul>
      </nav><!-- .nav-menu -->

    </div>
  </header><!-- End Header -->

  <!-- ======= Counts Section ======= -->
  <section class="counts section-bg">
    <div class="container">

      <div class="row">

        <div class="col-lg-3 col-md-6 text-center" data-aos="fade-up">
          <div class="count-box">
            <i class="icofont-simple-smile" style="color: #20b38e;"></i>
            <span data-toggle="counter-up">232</span>
            <p>Happy Clients</p>
          </div>
        </div>

        <div class="col-lg-3 col-md-6 text-center" data-aos="fade-up" data-aos-delay="200">
          <div class="count-box">
            <i class="icofont-document-folder" style="color: #c042ff;"></i>
            <span data-toggle="counter-up">521</span>
            <p>Projects</p>
          </div>
        </div>

        <div class="col-lg-3 col-md-6 text-center" data-aos="fade-up" data-aos-delay="400">
          <div class="count-box">
            <i class="icofont-live-support" style="color: #46d1ff;"></i>
            <span data-toggle="counter-up">1,463</span>
            <p>Hours Of Support</p>
          </div>
        </div>

        <div class="col-lg-3 col-md-6 text-center" data-aos="fade-up" data-aos-delay="600">
          <div class="count-box">
            <i class="icofont-users-alt-5" style="color: #ffb459;"></i>
            <span data-toggle="counter-up">15</span>
            <p>Hard Workers</p>
          </div>
        </div>

      </div>

    </div>
  </section><!-- End Counts Section -->

  <!-- ======= Services Section ======= -->
  <section id="about" class="about">
    <div class="container">
      <div class="col-lg-12 d-flex flex-column justify-content-center about-content">
      <div class="section-title">
        <h2>{{ full_sub }} - {{ unit }}</h2>
      </div>
      <div class="description">
      <main id="boxes">
        <div class="section-title">
      <h2>BOOKS</h2>
    </div>
      {% for book in books.itertuples %}
      <div id="leftbox">
        <div id="icon-added-book">
      <a href={{ book.Link }} style="color:black; font-size: 120%;">{{ book.Description }}</a>
    </div>
    <br>
    </div>
    <div id="rightbox">
      <button type="button" class="btn btn-success btn-sm" onclick="CounterStart();">Start</button>
      <button type="button" class="btn btn-info btn-sm" onclick="CounterPause();">Pause</button>
      <button type="button" class="btn btn-danger btn-sm"  onclick="CounterEnd('{{ subject }}',0.6,{{ level }});">Finish</button>
    </div>
    <br>
      {% endfor %}
      <br>
      <div class="section-title">
      <h2>VIDEOS</h2>
    </div>
      {% for link in videos %}
      <div id="leftboxvid">
      <iframe width="420" height="240" src={{ link }}>
      </iframe>
    </div>
    <div id="rightboxvid">
      <br>
      <br>
      <br>
      <br>
      <button type="button" class="btn btn-success btn-sm" onclick="CounterStart();">Start</button>
      <button type="button" class="btn btn-info btn-sm"  onclick="CounterPause();">Pause</button>
      <button type="button" class="btn btn-danger btn-sm"  onclick="CounterEnd('{{ subject }}',0.1,{{ level }});">Finish</button>
      <br>
    </div>
      {% endfor %}

      <div class="section-title">
      <h2>ARTICLES</h2>
    </div>
      {% for key,value in articles.items %}
      <div id="leftbox">
      <div id="icon-added-article">
      <a href={{ key }} style="color:black; font-size: 120%;">{{ value }}</a>
    </div>
  </div>
      <div id="rightbox">
      <button type="button" class="btn btn-success btn-sm" onclick="CounterStart();">Start</button>
      <button type="button" class="btn btn-info btn-sm"  onclick="CounterPause();">Pause</button>
      <button type="button" class="btn btn-danger btn-sm"  onclick="CounterEnd('{{ subject }}',0.3,{{ level }});">Finish</button>
    </div>
      {% endfor %}
      </div>

    </div>
  </section><!-- End Services Section -->
      <script>
              /*Stop Watch*/
              var i=1;
              function CounterStart(){
                interval=setInterval(function() {
                    i++;
                },1000);
                
              }
              function CounterPause(){
                console.log(i);
          window.clearInterval(interval);
            }
            function CounterEnd(subject,mode,level){
              var subject=subject;
              var mode=mode;
              var level=level;
              var txt;
              if (confirm("Would you recommend this to a fellow learner?")) {
                score = 1;
              } else {
                score = -1;
              }
              console.log(txt);
              $.ajax({
                type:"POST",
                url: "{% url 'write_to_csv' %}",
                data: {
                  'timer': i,
                  'subject':subject,
                  'mode':mode,
                  'level':level,
                  'score':score
                },
                dataType: 'json',
                success: function (data) {
                    alert(data);
                }
              });
              /*End*/
            }

          
      </script>
	<!-- password-script -->
	<script type="text/javascript">
		window.onload = function () {
			document.getElementById("password1").onchange = validatePassword;
			document.getElementById("password2").onchange = validatePassword;
		}

		function validatePassword() {
			var pass2 = document.getElementById("password2").value;
			var pass1 = document.getElementById("password1").value;
			if (pass1 != pass2)
				document.getElementById("password2").setCustomValidity("Passwords Don't Match");
			else
				document.getElementById("password2").setCustomValidity('');
			//empty string means no validation error
		}
	</script>

  <!-- Display the countdown timer in an element -->


	<!-- Vendor JS Files -->

	<script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
	<script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
	<script src="{% static 'vendor/jquery.easing/jquery.easing.min.js' %}"></script>
	<script src="{% static 'vendor/php-email-form/validate.js' %}"></script>
	<script src="{% static 'vendor/jquery-sticky/jquery.sticky.js' %}"></script>
	<script src="{% static 'vendor/venobox/venobox.min.js' %}"></script>
	<script src="{% static 'vendor/waypoints/jquery.waypoints.min.js' %}"></script>
	<script src="{% static 'vendor/counterup/counterup.min.js' %}"></script>
	<script src="{% static 'vendor/isotope-layout/isotope.pkgd.min.js' %}"></script>
	<script src="{% static 'vendor/aos/aos.js' %}"></script>

	<!-- Template Main JS File -->
	<script src="{% static 'js/main.js' %}"></script>
</body>

</html>